/*!
 * Chirpy v6.0.1 (https://github.com/cotes2020/jekyll-theme-chirpy/)
 * Â© 2019 Cotes Chung
 * MIT Licensed
 */
!function(){"use strict";const t=$(".mode-toggle");function e(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var a=o.call(t,e||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function o(t,o,a){return(o=e(o))in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t}const a=$("body"),r="sidebar-display";class n{static toggle(){!1===n.isExpanded?a.attr(r,""):a.removeAttr(r),n.isExpanded=!n.isExpanded}}o(n,"isExpanded",!1);const s=$("#sidebar-trigger"),l=$("#search-trigger"),i=$("#search-cancel"),c=$("#main>.row"),u=$("#topbar-title"),p=$("#search-wrapper"),d=$("#search-result-wrapper"),f=$("#search-results"),g=$("#search-input"),m=$("#search-hints"),h=$("html,body"),v="loaded",C="unloaded",b="input-focus",w="d-flex";class y{static on(){y.offset=window.scrollY,h.scrollTop(0)}static off(){h.scrollTop(y.offset)}}o(y,"offset",0),o(y,"resultVisible",!1);class S{static on(){s.addClass(C),u.addClass(C),l.addClass(C),p.addClass(w),i.addClass(v)}static off(){i.removeClass(v),p.removeClass(w),s.removeClass(C),u.removeClass(C),l.removeClass(C)}}class E{static on(){y.resultVisible||(y.on(),d.removeClass(C),c.addClass(C),y.resultVisible=!0)}static off(){y.resultVisible&&(f.empty(),m.hasClass(C)&&m.removeClass(C),d.addClass(C),c.removeClass(C),y.off(),g.val(""),y.resultVisible=!1)}}function T(){return i.hasClass(v)}$(".collapse");const x=".code-header>button",_="fas fa-check",P="timeout",k="data-title-succeed",K="data-bs-original-title",V=2e3;function Y(t){if($(t)[0].hasAttribute(P)){let e=$(t).attr(P);if(Number(e)>Date.now())return!0}return!1}function A(t){$(t).attr(P,Date.now()+V)}function F(t){$(t).removeAttr(P)}const I=$(x).children().attr("class");class N{static get attrTimestamp(){return"data-ts"}static get attrDateFormat(){return"data-df"}static get locale(){return $("html").attr("lang").substring(0,2)}static getTimestamp(t){return Number(t.attr(N.attrTimestamp))}static getDateFormat(t){return t.attr(N.attrDateFormat)}}const O=function(){let t=!1;return()=>{let e=t;return t||(t=!0),e}}(),j=function(){function t(t){return $(t).attr("content")}function e(e){let o=t(e);return void 0!==o&&!1!==o}return{getProxyMeta:()=>t("meta[name=pv-proxy-endpoint]"),getLocalMeta:()=>t("meta[name=pv-cache-path]"),hasProxyMeta:()=>e("meta[name=pv-proxy-endpoint]"),hasLocalMeta:()=>e("meta[name=pv-cache-path]")}}(),L=function(){const t={KEY_PV:"pv",KEY_PV_SRC:"pv_src",KEY_CREATION:"pv_created_date"},e="same-origin",o="cors";function a(t){return localStorage.getItem(t)}function r(t,e){localStorage.setItem(t,e)}function n(e,o){r(t.KEY_PV,e),r(t.KEY_PV_SRC,o),r(t.KEY_CREATION,(new Date).toJSON())}return{keysCount:()=>Object.keys(t).length,hasCache:()=>null!==localStorage.getItem(t.KEY_PV),getCache:()=>JSON.parse(localStorage.getItem(t.KEY_PV)),saveLocalCache(t){n(t,e)},saveProxyCache(t){n(t,o)},isExpired(){let e=new Date(a(t.KEY_CREATION));return e.setHours(e.getHours()+1),Date.now()>=e.getTime()},isFromLocal:()=>a(t.KEY_PV_SRC)===e,isFromProxy:()=>a(t.KEY_PV_SRC)===o,newerThan:t=>L.getCache().totalsForAllResults["ga:pageviews"]>t.totalsForAllResults["ga:pageviews"],inspectKeys(){if(localStorage.length===L.keysCount())for(let e=0;e<localStorage.length;e++){switch(localStorage.key(e)){case t.KEY_PV:case t.KEY_PV_SRC:case t.KEY_CREATION:break;default:return void localStorage.clear()}}else localStorage.clear()}}}();function R(t,e,o,a){let r=function(t,e){let o=0;if(void 0!==e)for(let a=0;a<e.length;++a)if(e[parseInt(a,10)][0]===t){o+=parseInt(e[parseInt(a,10)][1],10);break}return o}(e,t);if(r=0===r?1:r,a){const t=parseInt(o.text().replace(/,/g,""),10);r>t&&function(t,e,o){if(t<e){let a=new CountUp(o,t,e);a.error?console.error(a.error):a.start()}}(t,r,o.attr("id"))}else o.text((new Intl.NumberFormat).format(r))}function D(t){if(void 0===t)return;let e=O();const o=t.rows;if($(".post").length>0){R(o,window.location.pathname,$("#pv"),e)}}function M(){j.hasProxyMeta()&&$.ajax({type:"GET",url:j.getProxyMeta(),dataType:"jsonp",success:t=>{D(t),L.saveProxyCache(JSON.stringify(t))},error:(t,e,o)=>{console.log("Failed to load pageviews from proxy server: "+o)}})}function J(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return fetch(j.getLocalMeta()).then((t=>t.json())).then((e=>{t&&L.isFromProxy()&&L.newerThan(e)||(D(e),L.saveLocalCache(JSON.stringify(e)))}))}!function(){const t=$(window),e=$("#back-to-top");t.on("scroll",(()=>{t.scrollTop()>50?e.fadeIn():e.fadeOut()})),e.on("click",(()=>{t.scrollTop(0)}))}(),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map((t=>new bootstrap.Tooltip(t))),0!==t.length&&t.off().on("click",(t=>{const e=$(t.target);let o=e.prop("tagName")==="button".toUpperCase()?e:e.parent();modeToggle.flipMode(),o.trigger("blur")})),$("#sidebar-trigger").on("click",n.toggle),$("#mask").on("click",n.toggle),l.on("click",(function(){S.on(),E.on(),g.trigger("focus")})),i.on("click",(function(){S.off(),E.off()})),g.on("focus",(function(){p.addClass(b)})),g.on("focusout",(function(){p.removeClass(b)})),g.on("input",(()=>{""===g.val()?T()?m.removeClass(C):E.off():(E.on(),T()&&m.addClass(C))})),$("#core-wrapper img[data-src]")<=0||document.addEventListener("lazyloaded",(function(t){$(t.target).parent().removeClass("shimmer")})),$(".popup")<=0||$(".popup").magnificPopup({type:"image",closeOnContentClick:!0,showCloseBtn:!1,zoom:{enabled:!0,duration:300,easing:"ease-in-out"}}),dayjs.locale(N.locale),dayjs.extend(window.dayjs_plugin_localizedFormat),$("[".concat(N.attrTimestamp,"]")).each((function(){const t=dayjs.unix(N.getTimestamp($(this))),e=t.format(N.getDateFormat($(this)));$(this).text(e),$(this).removeAttr(N.attrTimestamp),$(this).removeAttr(N.attrDateFormat);const o=$(this).attr("data-bs-toggle");if(void 0===o||"tooltip"!==o)return;const a=t.format("llll");$(this).attr("data-bs-title",a),new bootstrap.Tooltip($(this))})),function(){if($(x).length){const t=new ClipboardJS(x,{target:t=>t.parentNode.nextElementSibling.querySelector("code .rouge-code")});[...document.querySelectorAll(x)].map((t=>new bootstrap.Tooltip(t,{placement:"left"}))),t.on("success",(t=>{t.clearSelection();const e=t.trigger;Y(e)||(!function(t){$(t).children().attr("class",_)}(e),function(t){const e=$(t).attr(k);$(t).attr(K,e).tooltip("show")}(e),A(e),setTimeout((()=>{!function(t){$(t).tooltip("hide").removeAttr(K)}(e),function(t){$(t).children().attr("class",I)}(e),F(e)}),V))}))}$("#copy-link").on("click",(t=>{let e=$(t.target);Y(e)||navigator.clipboard.writeText(window.location.href).then((()=>{const t=e.attr(K),o=e.attr(k);e.attr(K,o).tooltip("show"),A(e),setTimeout((()=>{e.attr(K,t),F(e)}),V)}))}))}(),document.querySelector("#core-wrapper h2,#core-wrapper h3,#core-wrapper h4")&&tocbot.init({tocSelector:"#toc",contentSelector:".post-content",ignoreSelector:"[data-toc-skip]",headingSelector:"h2, h3, h4",orderedList:!1,scrollSmooth:!1}),$(".pageviews").length<=0||(L.inspectKeys(),L.hasCache()?(D(L.getCache()),L.isExpired()?j.hasLocalMeta()?J(!0).then(M):M():L.isFromLocal()&&M()):j.hasLocalMeta()?J().then(M):M())}();
